<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kelimelik 5x5 Online</title>
    <link rel="stylesheet" href="style.css"> 
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>

    <div id="lobbyPanel" class="panel">
        <h2 class="panel-title">Kelime Oyunu</h2>

        <div class="lobby-top-actions">
            <button id="howToPlayBtn" class="icon-btn info" onclick="openInfoModal()" title="Nasƒ±l Oynanƒ±r?">?</button>
            <button id="statsBtn" class="icon-btn stats" onclick="openStatsModal()" title="ƒ∞statistikler">üìä</button>
        </div>
        
        <div class="lobby-controls">
            <div class="control-group">
                <label for="gameModeSelect">Oyun Modu:</label>
                <select id="gameModeSelect">
                    <option value="CLASSIC">KLASƒ∞K (SIRAYLA SE√áMELƒ∞)</option>
                    <option value="RANDOM">RANDOM (RASTGELE HARF)</option>
                </select>
                <button id="createGameBtn" onclick="createNewGame()">Yeni Oyun Kur</button>
            </div>

            <div class="lobby-divider">- VEYA -</div>
            
            <div class="join-area">
                <input type="text" id="gameCodeInput" placeholder="ODA KODU" maxlength="4">
                <button id="joinGameBtn" onclick="joinGame()">Oyuna Katƒ±l</button>
            </div>
            
            <div class="lobby-divider">- VEYA -</div>
            
            <button id="singlePlayerBtn" class="secondary-btn" onclick="startSinglePlayerGame()">
                Tek Ba≈üƒ±na Oyna (Random)
            </button>
        </div>

        <div id="lobbyStatus" class="status-error"></div>
    </div>
        
    <div id="gamePanel" class="panel hidden">
        <div class="game-header">
            <div class="room-info">Oda: <b id="gameCodeDisplay">--</b></div>
            <div id="gameTimer" class="game-timer hidden">20</div>
            <div id="turnStatusBadge" class="status-badge">Y√ºkleniyor...</div>
        </div>
        
        <div class="game-container">
            <div class="grid-section">
                <div id="myGrid" class="grid"></div>
            </div>

            <div class="controls-section">
                <div id="randomLetterDisplay" class="random-letter-box hidden">?</div>

                <div id="classicLetterSelectionArea" class="hidden">
                    <p class="section-label">Harf Se√ß ve Onayla:</p>
                    <div id="classicAlphabetContainer" class="alphabet-wrapper"></div>
                    <button id="confirmLetterBtn" class="confirm-btn" onclick="submitClassicLetter()" disabled>ONAYLA</button>
                </div>
            </div>

            <div class="grid-section" id="opponentSection">
                <div id="opponentGrid" class="grid locked"></div>
            </div>
        </div>
    </div>
        
    <div id="gameOverPanel" class="panel hidden">
        <h3 id="finalResultMsg" class="result-message">Oyun Tamamlandƒ±!</h3>
             
        <div class="results-container">
            <div class="result-card" id="cardA">
                <div class="card-header">
                    <h4 id="resultTitleA">OYUNCU A</h4>
                    <div class="final-score" id="scoreA">0</div>
                </div>
                <div class="card-body">
                    <div id="finalGridA" class="grid mini-grid"></div>
                    <div class="word-list-wrapper">
                        <h5>Kelimeler</h5>
                        <ul id="wordsListA" class="word-list"></ul>
                    </div>
                </div>
            </div>

            <div class="result-card" id="cardB">
                <div class="card-header">
                    <h4 id="resultTitleB">OYUNCU B</h4>
                    <div class="final-score" id="scoreB">0</div>
                </div>
                <div class="card-body">
                    <div id="finalGridB" class="grid mini-grid"></div>
                    <div class="word-list-wrapper">
                        <h5>Kelimeler</h5>
                        <ul id="wordsListB" class="word-list"></ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel-footer">
            <button class="restart-btn" onclick="window.location.reload()">TEKRAR OYNA</button>
        </div>
    </div>

    <div id="howToPlayModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal" onclick="closeInfoModal()">&times;</span>
            <h2>NASIL OYNANIR?</h2>
            <div class="rules-text">
                </div>
        </div>
    </div>

    <div id="statsModal" class="modal hidden">
        <div class="modal-content stats-modal">
            <span class="close-modal" onclick="closeStatsModal()">&times;</span>
            
            <div class="stats-tabs">
                <button class="tab-btn active" onclick="switchStatsTab('classic')">KLASƒ∞K</button>
                <button class="tab-btn" onclick="switchStatsTab('random')">RANDOM</button>
            </div>

            <div id="statsContent">
                <h3 class="stats-subtitle">GENEL ƒ∞STATƒ∞STƒ∞KLER</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-icon">üéÆ</span>
                        <span id="statTotalGames" class="stat-val">-</span>
                        <span class="stat-lbl">Oyun</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">üèÜ</span>
                        <span id="statWinRate" class="stat-val">-%</span>
                        <span class="stat-lbl">Galibiyet</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">üéØ</span>
                        <span id="statAvgScore" class="stat-val">-</span>
                        <span class="stat-lbl">Ortalama</span>
                    </div>
                    <div class="stat-card highlight">
                        <span class="stat-icon">üî•</span>
                        <span id="statMaxScore" class="stat-val">-</span>
                        <span class="stat-lbl">Rekor</span>
                    </div>
                </div>

                <h3 class="stats-subtitle">BU AYIN SIRALAMASI</h3>
                <div class="leaderboard-section">
                    <table class="leaderboard-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Oyuncu</th>
                                <th>Ortalama</th>
                            </tr>
                        </thead>
                        <tbody id="leaderboardBody">
                            <tr><td colspan="3">Y√ºkleniyor...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>

