<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kelimelik 5x5 Online</title>
    
    <link rel="stylesheet" href="style.css"> 
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>
    
    <div id="lobbyPanel" class="panel">
        <h2 class="panel-title">Kelime Oyunu</h2>

        <div style="width: 100%; max-width: 300px; margin: 0 auto; text-align: left; margin-bottom: 10px;">
        <button id="howToPlayBtn" class="icon-info-btn" onclick="window.openInfoModal()" title="NasÄ±l OynanÄ±r?">?</button>
        <button id="statsBtn" class="icon-info-btn" onclick="window.openStatsModal()" title="Ä°statistikler" style="margin-left: 10px; background-color: #8e44ad;">ğŸ“Š</button>
        <button id="darkModeBtn" class="icon-btn" onclick="toggleDarkMode()" title="Tema DeÄŸiÅŸtir">ğŸŒ™</button>
        </div>
        
        <div class="lobby-controls">
            
            <div class="control-group">
                <label for="gameModeSelect" style="display:block; margin-bottom:5px; font-weight:bold; color:#555;">Oyun Modu:</label>
                <select id="gameModeSelect">
                    <option value="CLASSIC">KLASÄ°K (SIRAYLA SEÃ‡MELÄ°)</option>
                    <option value="RANDOM">RANDOM (RASTGELE HARF)</option>
                </select>
                <button id="createGameBtn" onclick="createNewGame()">Yeni Oyun Kur</button>
            </div>

            <div class="lobby-divider">- VEYA -</div>
            
            <div class="join-area">
                <input type="text" id="gameCodeInput" placeholder="ODA KODU" maxlength="4">
                <button id="joinGameBtn" onclick="joinGame()">Oyuna KatÄ±l</button>
            </div>
            
            <div class="lobby-divider">- VEYA -</div>
            
            <div class="control-group">
                <button id="singlePlayerBtn" onclick="startSinglePlayerGame()">
                    Tek BaÅŸÄ±na Oyna (Random)
                </button>
            </div>
        </div>

        <div id="lobbyStatus" style="margin-top: 15px; font-weight: bold; color: #e74c3c; min-height: 20px;"></div>
    </div>
        
    <div id="gamePanel" class="panel hidden">
        
        <div class="game-header">
            <div class="game-info">
                <span>Oda: <b id="gameCodeDisplay">--</b></span>  
                 
            </div>
        </div>

        <div class="controls-top">
    <div id="turnStatusBadge" class="status-badge hidden">Durum YÃ¼kleniyor...</div>
    
    </div>
        
        <div class="game-container">
            <div class="grid-section">
            <div id="myGrid" class="grid"></div>
            </div>

            <div class="controls-section">
                
                <div id="randomLetterDisplay" class="random-letter-box hidden">?</div>

                <div id="classicLetterSelectionArea" class="hidden">
        <p style="text-align:center; margin-bottom:5px; font-weight:bold; color:#2c3e50;">
            Bir Harf SeÃ§ ve Onayla:
        </p>
        
        <div id="classicAlphabetContainer" class="alphabet-wrapper"></div>
        
        <button id="confirmLetterBtn" class="confirm-btn" onclick="submitClassicLetter()" disabled>
            SEÃ‡Ä°MÄ° ONAYLA
        </button>
    </div>
                
                <div id="statusMsg" style="display:none;"></div> 
            </div>

            <div class="grid-section" id="opponentSection">
                <div id="opponentGrid" class="grid locked"></div>
            </div>
        </div>
    </div>
        
         <div id="gameOverPanel" class="panel hidden">
        <h3 id="finalResultMsg" class="result-message">Kazanan Belirleniyor...</h3>
             
        <div class="results-container">
            <div class="result-card">
                <div class="card-header">
                    <h4 id="resultTitleA">Kurucu (A)</h4>
                    <div class="final-score" id="scoreA">0</div>
                </div>
                
                <div class="card-body">
                    <div class="mini-grid-wrapper">
                        <div id="finalGridA" class="grid mini-grid"></div>
                    </div>
                    
                    <div class="word-list-wrapper">
                        <h5>Bulunan Kelimeler</h5>
                        <ul id="wordsListA" class="word-list"></ul>
                    </div>
                </div>
            </div>

            <div class="result-card">
                <div class="card-header">
                    <h4 id="resultTitleB">KatÄ±lÄ±mcÄ± (B)</h4>
                    <div class="final-score" id="scoreB">0</div>
                </div>
                
                <div class="card-body">
                    <div class="mini-grid-wrapper">
                        <div id="finalGridB" class="grid mini-grid"></div>
                    </div>
                    
                    <div class="word-list-wrapper">
                        <h5>Bulunan Kelimeler</h5>
                        <ul id="wordsListB" class="word-list"></ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel-footer">
            <button id="restartBtn" onclick="window.location.reload()">TEKRAR OYNA</button>
        </div>
    </div>

    <div id="howToPlayModal" class="modal hidden">
    <div class="modal-content">
        <span class="close-modal" onclick="window.closeInfoModal()">&times;</span>
        <h2 style="color:#2c3e50; text-align:center;">NASIL OYNANIR?</h2>
        <div class="rules-text">
            <h3>ğŸ¯ Oyunun AmacÄ±</h3>
            <p>5x5'lik grid Ã¼zerinde, verilen harfleri kullanarak yatay veya dikey anlamlÄ± kelimeler oluÅŸturmak ve en yÃ¼ksek puanÄ± toplamaktÄ±r.</p>

            <h3>ğŸ•¹ï¸ Oyun ModlarÄ±</h3>
            <ul>
                <li><strong>Klasik Mod:</strong> SÄ±rasÄ± gelen oyuncu bir harf seÃ§er. SeÃ§ilen harfi her iki oyuncu da kullanmak zorundadÄ±r.</li>
                <li><strong>Random Mod:</strong> Sistem rastgele harfler verir. HÄ±z ve strateji Ã¶nemlidir.</li>
                <li><strong>Tek KiÅŸilik:</strong> Kendi rekorunuzu kÄ±rmak iÃ§in rastgele gelen harflerle oynarsÄ±nÄ±z.</li>
            </ul>

            <h3>â­ Puanlama</h3>
            <ul>
                <li><strong>5 Harfli:</strong> 15 Puan (BÃ¼yÃ¼k Ã–dÃ¼l!)</li>
                <li><strong>4 Harfli:</strong> 9 Puan</li>
                <li><strong>3 Harfli:</strong> 5 Puan</li>
                <li><strong>2 Harfli:</strong> 2 Puan</li>
            </ul>

            <h3>ğŸƒ Joker KuralÄ±</h3>
            <p>24 harf yerleÅŸtirildikten sonra, son kalan 25. kare iÃ§in <strong>JOKER</strong> hakkÄ±nÄ±z vardÄ±r. Ä°stediÄŸiniz harfi seÃ§ip oyunun kaderini deÄŸiÅŸtirebilirsiniz!</p>
        </div>
    </div>
</div>

    <div id="statsModal" class="modal hidden" style="display: none;">
    <div class="modal-content" style="max-width: 500px;">
        <span class="close-modal" onclick="window.closeStatsModal()">&times;</span>
        <h2 style="color:#8e44ad; text-align:center; margin-top:0;">RANDOM MOD Ä°STATÄ°STÄ°KLERÄ°</h2>
        
        <div class="stats-container">
            <div class="stat-box" style="width: 120px;">
                <span id="statLifeTimeAvg" class="stat-number">-</span>
                <span class="stat-label">Genel Ort.</span>
            </div>
            <div class="stat-box" style="width: 120px;">
                <span id="statLast10Avg" class="stat-number">-</span>
                <span class="stat-label">Son 10 Ort.</span>
            </div>
        </div>

        <div class="leaderboard-section">
            <h3 style="text-align:center; color:#2c3e50; margin-bottom: 10px;">ğŸ† BU AYIN LÄ°DERLERÄ° ğŸ†</h3>
            <p style="text-align:center; font-size:0.8rem; color:#7f8c8d; margin-top:-10px;">(En az 10 oyun oynayanlar)</p>
            
            <table class="leaderboard-table">
                <thead>
                    <tr>
                        <th width="15%">#</th>
                        <th width="50%">Oyuncu</th> <th width="35%">Ortalama</th>
                    </tr>
                </thead>
                <tbody id="leaderboardBody">
                    <tr><td colspan="3">YÃ¼kleniyor...</td></tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
    
    <script src="script.js"></script>
</body>
</html>


